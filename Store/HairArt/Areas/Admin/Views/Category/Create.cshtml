<div class="container mt-5">
    <h2>Create Category</h2>
    <form id="createForm">
        <div class="mb-3">
            <label for="categoryName" class="form-label">Category Name</label>
            <input type="text" id="categoryName" class="form-control" required />
        </div>
        <div class="mb-3">
            <label for="categoryDescription" class="form-label">Category Description</label>
            <textarea id="categoryDescription" class="form-control"></textarea>
        </div>
        <button type="submit" class="btn btn-success">Create</button>
    </form>
</div>

<script>
    document.getElementById('createForm').addEventListener('submit', function (event) {
        event.preventDefault();

        const newCategory = {
            categoryName: document.getElementById('categoryName').value,
            categoryDescription: document.getElementById('categoryDescription').value
        };

        fetch('/api/Category/CreateCategory', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(newCategory)
        })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Failed to create category');
                }
                alert('Category created successfully');
                window.location.href = '/Admin/Category/Index';
            })
            .catch(error => {
                console.error('Error creating category:', error);
                alert('Error creating category');
            });
    });
</script>
